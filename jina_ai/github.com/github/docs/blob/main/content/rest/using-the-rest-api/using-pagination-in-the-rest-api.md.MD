docs/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md at main · github/docs · GitHub
===============
                                         

[Skip to content](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#start-of-content) 

Navigation Menu
---------------

Toggle navigation

[](https://github.com/)

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fdocs%2Fblob%2Fmain%2Fcontent%2Frest%2Fusing-the-rest-api%2Fusing-pagination-in-the-rest-api.md)

*   Product
    
    *   [Actions Automate any workflow](https://github.com/features/actions)
    *   [Packages Host and manage packages](https://github.com/features/packages)
    *   [Security Find and fix vulnerabilities](https://github.com/features/security)
    *   [Codespaces Instant dev environments](https://github.com/features/codespaces)
    *   [GitHub Copilot Write better code with AI](https://github.com/features/copilot)
    *   [Code review Manage code changes](https://github.com/features/code-review)
    *   [Issues Plan and track work](https://github.com/features/issues)
    *   [Discussions Collaborate outside of code](https://github.com/features/discussions)
    
    Explore
    
    *   [All features](https://github.com/features)
    *   [Documentation](https://docs.github.com/)
    *   [GitHub Skills](https://skills.github.com/)
    *   [Blog](https://github.blog/)
    
*   Solutions
    
    By size
    
    *   [Enterprise](https://github.com/enterprise)
    *   [Teams](https://github.com/team)
    *   [Startups](https://github.com/enterprise/startups)
    
    By industry
    
    *   [Healthcare](https://github.com/solutions/industries/healthcare)
    *   [Financial services](https://github.com/solutions/industries/financial-services)
    *   [Manufacturing](https://github.com/solutions/industries/manufacturing)
    
    By use case
    
    *   [CI/CD & Automation](https://github.com/solutions/ci-cd)
    *   [DevOps](https://github.com/solutions/devops)
    *   [DevSecOps](https://github.com/solutions/devsecops)
    
*   Resources
    
    Topics
    
    *   [AI](https://github.com/resources/articles/ai)
    *   [DevOps](https://github.com/resources/articles/devops)
    *   [Security](https://github.com/resources/articles/security)
    *   [Software Development](https://github.com/resources/articles/software-development)
    
    Explore
    
    *   [Learning Pathways](https://resources.github.com/learn/pathways)
    *   [White papers, Ebooks, Webinars](https://resources.github.com/)
    *   [Customer Stories](https://github.com/customer-stories)
    *   [Partners](https://partner.github.com/)
    
*   Open Source
    
    *   [GitHub Sponsors Fund open source developers](https://github.com/sponsors)
    
    *   [The ReadME Project GitHub community articles](https://github.com/readme)
    
    Repositories
    
    *   [Topics](https://github.com/topics)
    *   [Trending](https://github.com/trending)
    *   [Collections](https://github.com/collections)
    
*   Enterprise
    
    *   [Enterprise platform AI-powered developer platform](https://github.com/enterprise)
    
    Available add-ons
    
    *   [Advanced Security Enterprise-grade security features](https://github.com/enterprise/advanced-security)
    *   [GitHub Copilot Enterprise-grade AI features](https://github.com/features/copilot#enterprise)
    *   [Premium Support Enterprise-grade 24/7 support](https://github.com/premium-support)
    
*   [Pricing](https://github.com/pricing)

Search or jump to...

Search code, repositories, users, issues, pull requests...
==========================================================

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

Provide feedback
================

We read every piece of feedback, and take your input very seriously.

 Include my email address so I can be contacted

Cancel Submit feedback

Saved searches
==============

Use saved searches to filter your results more quickly
------------------------------------------------------

Name  

Query 

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

Cancel Create saved search

[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fgithub%2Fdocs%2Fblob%2Fmain%2Fcontent%2Frest%2Fusing-the-rest-api%2Fusing-pagination-in-the-rest-api.md)

[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=github%2Fdocs)

You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert

[github](https://github.com/github) / **[docs](https://github.com/github/docs)** Public

*   [Notifications](https://github.com/login?return_to=%2Fgithub%2Fdocs) You must be signed in to change notification settings
*   [Fork 58.8k](https://github.com/login?return_to=%2Fgithub%2Fdocs)
*   [Star 15.8k](https://github.com/login?return_to=%2Fgithub%2Fdocs)
    

*   [Code](https://github.com/github/docs)
*   [Issues 35](https://github.com/github/docs/issues)
*   [Pull requests 17](https://github.com/github/docs/pulls)
*   [Actions](https://github.com/github/docs/actions)
*   [Projects 3](https://github.com/github/docs/projects)
*   [Security](https://github.com/github/docs/security)
*   [Insights](https://github.com/github/docs/pulse)

Additional navigation options

*   [Code](https://github.com/github/docs)
*   [Issues](https://github.com/github/docs/issues)
*   [Pull requests](https://github.com/github/docs/pulls)
*   [Actions](https://github.com/github/docs/actions)
*   [Projects](https://github.com/github/docs/projects)
*   [Security](https://github.com/github/docs/security)
*   [Insights](https://github.com/github/docs/pulse)

   

Files
-----

 main

Breadcrumbs
-----------

1.  [docs](https://github.com/github/docs/tree/main)
2.  /[content](https://github.com/github/docs/tree/main/content)
3.  /[rest](https://github.com/github/docs/tree/main/content/rest)
4.  /[using-the-rest-api](https://github.com/github/docs/tree/main/content/rest/using-the-rest-api)

/

using-pagination-in-the-rest-api.md
===================================

Blame

Blame

Latest commit
-------------

History
-------

[History](https://github.com/github/docs/commits/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md)

[](https://github.com/github/docs/commits/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md)

185 lines (133 loc) · 9.24 KB

 main

Breadcrumbs
-----------

1.  [docs](https://github.com/github/docs/tree/main)
2.  /[content](https://github.com/github/docs/tree/main/content)
3.  /[rest](https://github.com/github/docs/tree/main/content/rest)
4.  /[using-the-rest-api](https://github.com/github/docs/tree/main/content/rest/using-the-rest-api)

/

using-pagination-in-the-rest-api.md
===================================

Top

File metadata and controls
--------------------------

*   Preview
    
*   Code
    
*   Blame
    

185 lines (133 loc) · 9.24 KB

[Raw](https://github.com/github/docs/raw/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md)

| title | intro | redirect\_from | versions | topics | shortTitle |
| --- | --- | --- | --- | --- | --- |
| 
Using pagination in the REST API

 | 

Learn how to navigate through paginated responses from the REST API.

 | 

<table><tbody><tr><td><div dir="auto">/guides/traversing-with-pagination</div></td><td><div dir="auto">/v3/guides/traversing-with-pagination</div></td><td><div dir="auto">/rest/guides/traversing-with-pagination</div></td><td><div dir="auto">/rest/guides/using-pagination-in-the-rest-api</div></td></tr></tbody></table>



 | 

| fpt | ghes | ghec |
| --- | --- | --- |
| 
\*

 | 

\*

 | 

\*

 |



 | 

<table><tbody><tr><td><div dir="auto">API</div></td></tr></tbody></table>



 | 

Pagination

 |

About pagination
----------------

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#about-pagination)

When a response from the REST API would include many results, {% data variables.product.company\_short %} will paginate the results and return a subset of the results. For example, `GET /repos/octocat/Spoon-Knife/issues` will only return 30 issues from the `octocat/Spoon-Knife` repository even though the repository includes over 1600 open issues. This makes the response easier to handle for servers and for people.

You can use the `link` header from the response to request additional pages of data. If an endpoint supports the `per_page` query parameter, you can control how many results are returned on a page.

This article demonstrates how to request additional pages of results for paginated responses, how to change the number of results returned on each page, and how to write a script to fetch multiple pages of results.

Using `link` headers
--------------------

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#using-link-headers)

When a response is paginated, the response headers will include a `link` header. If the endpoint does not support pagination, or if all results fit on a single page, the `link` header will be omitted.

The `link` header contains URLs that you can use to fetch additional pages of results. For example, the previous, next, first, and last page of results.

To see the response headers for a particular endpoint, you can use curl, GitHub CLI, or a library you're using to make requests. To see the response headers if you are using a library to make requests, follow the documentation for that library. To see the response headers if you are using curl or GitHub CLI, pass the `--include` flag with your request. For example:

curl --include --request GET \\
--url "https://api.github.com/repos/octocat/Spoon-Knife/issues" \\
--header "Accept: application/vnd.github+json"

If the response is paginated, the `link` header will look something like this:

link: <https://api.github.com/repositories/1300192/issues?page=2>; rel="prev", <https://api.github.com/repositories/1300192/issues?page=4>; rel="next", <https://api.github.com/repositories/1300192/issues?page=515>; rel="last", <https://api.github.com/repositories/1300192/issues?page=1>; rel="first"

The `link` header provides the URL for the previous, next, first, and last page of results:

*   The URL for the previous page is followed by `rel="prev"`.
*   The URL for the next page is followed by `rel="next"`.
*   The URL for the last page is followed by `rel="last"`.
*   The URL for the first page is followed by `rel="first"`.

In some cases, only a subset of these links are available. For example, the link to the previous page won't be included if you are on the first page of results, and the link to the last page won't be included if it can't be calculated.

You can use the URLs from the `link` header to request another page of results. For example, to request the last page of results based on the previous example:

curl --include --request GET \\
--url "https://api.github.com/repositories/1300192/issues?page=515" \\
--header "Accept: application/vnd.github+json"

The URLs in the `link` header use query parameters to indicate which page of results to return. The query parameters in the `link` URLs may differ between endpoints, however each paginated endpoint will use the `page`, `before`/`after`, or `since` query parameters. (Some endpoints use the `since` parameter for something other than pagination.) In all cases, you can use the URLs in the `link` header to fetch additional pages of results. For more information about query parameters see "[AUTOTITLE](https://github.com/github/docs/blob/main/rest/guides/getting-started-with-the-rest-api#using-query-parameters)."

Changing the number of items per page
-------------------------------------

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#changing-the-number-of-items-per-page)

If an endpoint supports the `per_page` query parameter, then you can control how many results are returned on a page. For more information about query parameters see "[AUTOTITLE](https://github.com/github/docs/blob/main/rest/guides/getting-started-with-the-rest-api#using-query-parameters)."

For example, this request uses the `per_page` query parameter to return two items per page:

curl --include --request GET \\
--url "https://api.github.com/repos/octocat/Spoon-Knife/issues?per\_page=2" \\
--header "Accept: application/vnd.github+json"

The `per_page` parameter will automatically be included in the `link` header. For example:

link: <https://api.github.com/repositories/1300192/issues?per\_page=2&page=2>; rel="next", <https://api.github.com/repositories/1300192/issues?per\_page=2&page=7715>; rel="last"

Scripting with pagination
-------------------------

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#scripting-with-pagination)

Instead of manually copying URLs from the `link` header, you can write a script to fetch multiple pages of results.

The following examples use JavaScript and {% data variables.product.company\_short %}'s Octokit.js library. For more information about Octokit.js, see "[AUTOTITLE](https://github.com/github/docs/blob/main/rest/guides/getting-started-with-the-rest-api?tool=javascript)" and [the Octokit.js README](https://github.com/octokit/octokit.js/#readme).

### Example using the Octokit.js pagination method

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#example-using-the-octokitjs-pagination-method)

To fetch paginated results with Octokit.js, you can use `octokit.paginate()`. `octokit.paginate()` will fetch the next page of results until it reaches the last page and then return all of the results as a single array. A few endpoints return paginated results as array in an object, as opposed to returning the paginated results as an array. `octokit.paginate()` always returns an array of items even if the raw result was an object.

For example, this script gets all of the issues from the `octocat/Spoon-Knife` repository. Although it requests 100 issues at a time, the function won't return until the last page of data is reached.

import { Octokit } from "octokit";

const octokit \= new Octokit({ {% ifversion ghes %}
  baseUrl: "{% data variables.product.rest\_url %}",
{% endif %}});

const data \= await octokit.paginate("GET /repos/{owner}/{repo}/issues", {
  owner: "octocat",
  repo: "Spoon-Knife",
  per\_page: 100,
  headers: {
    "X-GitHub-Api-Version": "{{ allVersions\[currentVersion\].latestApiVersion }}",
  },
});

console.log(data)

You can pass an optional map function to `octokit.paginate()` to end pagination before the last page is reached or to reduce memory usage by keeping only a subset of the response. You can also use `octokit.paginate.iterator()` to iterate through a single page at a time instead of requesting every page. For more information, see [the Octokit.js documentation](https://github.com/octokit/octokit.js#pagination).

### Example creating a pagination method

[](https://github.com/github/docs/blob/main/content/rest/using-the-rest-api/using-pagination-in-the-rest-api.md#example-creating-a-pagination-method)

If you are using another language or library that doesn't have a pagination method, you can build your own pagination method. This example still uses the Octokit.js library to make requests, but does not rely on `octokit.paginate()`.

The `getPaginatedData` function makes a request to an endpoint with `octokit.request()`. The data from the response is processed by `parseData`, which handles cases where no data is returned or cases where the data that is returned is an object instead of an array. The processed data is then appended to a list that contains all of the paginated data collected so far. If the response includes a `link` header and if the `link` header includes a link for the next page, then the function uses a RegEx pattern (`nextPattern`) to get the URL for the next page. The function then repeats the previous steps, now using this new URL. Once the `link` header no longer includes a link to the next page, all of the results are returned.

import { Octokit } from "octokit";

const octokit \= new Octokit({ {% ifversion ghes %}
  baseUrl: "{% data variables.product.rest\_url %}",
{% endif %}});

async function getPaginatedData(url) {
  const nextPattern \= /(?<=<)(\[\\S\]\*)(?=>; rel="Next")/i;
  let pagesRemaining \= true;
  let data \= \[\];

  while (pagesRemaining) {
    const response \= await octokit.request(\`GET ${url}\`, {
      per\_page: 100,
      headers: {
        "X-GitHub-Api-Version":
          "{{ allVersions\[currentVersion\].latestApiVersion }}",
      },
    });

    const parsedData \= parseData(response.data)
    data \= \[...data, ...parsedData\];

    const linkHeader \= response.headers.link;

    pagesRemaining \= linkHeader && linkHeader.includes(\`rel=\\"next\\"\`);

    if (pagesRemaining) {
      url \= linkHeader.match(nextPattern)\[0\];
    }
  }

  return data;
}

function parseData(data) {
  // If the data is an array, return that
    if (Array.isArray(data)) {
      return data
    }

  // Some endpoints respond with 204 No Content instead of empty array
  //   when there is no data. In that case, return an empty array.
  if (!data) {
    return \[\]
  }

  // Otherwise, the array of items that we want is in an object
  // Delete keys that don't include the array of items
  delete data.incomplete\_results;
  delete data.repository\_selection;
  delete data.total\_count;
  // Pull out the array of items
  const namespaceKey \= Object.keys(data)\[0\];
  data \= data\[namespaceKey\];

  return data;
}

const data \= await getPaginatedData("/repos/octocat/Spoon-Knife/issues");

console.log(data);

Footer
------

[](https://github.com/ "GitHub")© 2024 GitHub, Inc.

### Footer navigation

*   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
*   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
*   [Security](https://github.com/security)
*   [Status](https://www.githubstatus.com/)
*   [Docs](https://docs.github.com/)
*   [Contact](https://support.github.com/?tags=dotcom-footer)
*   Manage cookies
*   Do not share my personal information

You can’t perform that action at this time.